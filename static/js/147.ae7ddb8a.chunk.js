"use strict";(self.webpackChunktabletap=self.webpackChunktabletap||[]).push([[147],{147:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var s=r(483),a=r(666),n=r(686),o=(r(698),r(723));const l=()=>{const{tableNumber:e}=(0,a.g)(),t=(0,a.Zp)(),[r,l]=(0,s.useState)(""),[c,i]=(0,s.useState)(""),[u,d]=(0,s.useState)("No Order"),[h,m]=(0,s.useState)(""),[b,x]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{const t=await n.A.get("http://localhost:3001/order-status/".concat(e));d(t.data.status),m(t.data.name||""),"Completed"===t.data.status&&x(!0)}catch(t){console.error("Error checking order status:",t)}})()}),[e]);const p=s=>{s.preventDefault(),h&&r.trim().toLowerCase()===h.trim().toLowerCase()?t("/order-status/".concat(e)):alert("Name does not match the existing order.")};return b?(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("h1",{children:"Thank you for dining with us!"}),(0,o.jsx)("button",{onClick:()=>{x(!1),d("No Order"),m(""),l(""),i("")},children:"OK"})]}):"Pending"===u||"In Progress"===u?(0,o.jsxs)("div",{className:"container",children:[(0,o.jsxs)("h1",{children:["Form for Table ",e]}),(0,o.jsx)("p",{children:"An order has already been submitted for this table. You cannot submit another order until the current order is completed."}),(0,o.jsx)("p",{children:"Enter your name to check your status:"}),(0,o.jsxs)("form",{onSubmit:p,children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Name:"}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value)})]}),(0,o.jsx)("button",{type:"submit",children:"Submit"})]})]}):(0,o.jsxs)("div",{className:"container",children:[(0,o.jsxs)("h1",{children:["Form for Table ",e]}),(0,o.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const a={tableNumber:parseInt(e),name:r,order:c};try{await n.A.post("http://localhost:3001/submit-order",a),alert("Order submitted successfully"),t("/order-status/".concat(e))}catch(o){console.error("Error submitting order:",o),alert("Failed to submit order")}},children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Table Number:"}),(0,o.jsx)("input",{type:"text",value:e,readOnly:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Name:"}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value)})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Order:"}),(0,o.jsx)("textarea",{value:c,onChange:e=>i(e.target.value)})]}),(0,o.jsx)("button",{type:"submit",children:"Submit"})]})]})}}}]);
//# sourceMappingURL=147.ae7ddb8a.chunk.js.map