"use strict";(self.webpackChunktabletap=self.webpackChunktabletap||[]).push([[670],{670:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var o=r(483),a=r(666),d=r(686),s=r(306),n=(r(698),r(723));const c=(0,s.io)("http://localhost:3001"),l=()=>{const{tableNumber:t}=(0,a.g)(),e=(0,a.Zp)(),[r,s]=(0,o.useState)(null),[l,i]=(0,o.useState)("");(0,o.useEffect)((()=>{const e=async()=>{try{const e=await d.A.get("http://localhost:3001/order-status/".concat(t));s(e.data)}catch(e){console.error("Error fetching order:",e)}};return e(),c.on("order-updated",e),c.on("completed-order-updated",e),()=>{c.off("order-updated",e),c.off("completed-order-updated",e)}}),[t]);const h=()=>{e("/form/".concat(t))};return r&&"Done"===r.status?(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("h1",{children:"Thank you for dining with us!"})}):r&&"No Order"!==r.status?(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("h1",{children:["Order Status for Table ",t]}),r?(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:["Name: ",r.name]}),(0,n.jsxs)("p",{children:["Order: ",r.order]}),(0,n.jsxs)("p",{children:["Status: ",r.status]}),(0,n.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await d.A.post("http://localhost:3001/add-food",{tableNumber:parseInt(t),additionalFood:l}),alert("Food added to order"),i("");const e=await d.A.get("http://localhost:3001/order-status/".concat(t));s(e.data)}catch(r){console.error("Error adding food to order:",r),alert("Failed to add food to order")}},children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Add More Food:"}),(0,n.jsx)("input",{type:"text",value:l,onChange:t=>i(t.target.value)})]}),(0,n.jsx)("button",{type:"submit",children:"Add Food"})]})]}):(0,n.jsx)("p",{children:"No order found for this table"})]}):(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{children:"Welcome to my restaurant!"}),(0,n.jsx)("button",{onClick:h,children:"Order"})]})}}}]);
//# sourceMappingURL=670.7bf4a65e.chunk.js.map