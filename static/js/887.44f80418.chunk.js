"use strict";(self.webpackChunktabletap=self.webpackChunktabletap||[]).push([[887],{887:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var s=a(483),r=a(686),c=a(200),l=(a(333),a(190)),d=a.n(l),o=(a(698),a(723));const n=()=>{const[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)({}),[n,b]=(0,s.useState)({});(0,s.useEffect)((()=>{(async()=>{try{const e=await r.A.get("http://localhost:3001/completed-orders");t(e.data),h(e.data)}catch(e){console.error("Error fetching completed orders:",e)}})()}),[]);const h=e=>{const t={},a={};e.forEach((e=>{t[e.tableNumber]?t[e.tableNumber]++:t[e.tableNumber]=1;e.order.split(", ").forEach((e=>{a[e]?a[e]++:a[e]=1}))})),l(t),b(a)},i={labels:Object.keys(a),datasets:[{label:"Table Usage",data:Object.values(a),backgroundColor:"rgba(75, 192, 192, 0.6)"}]},u={labels:Object.keys(n),datasets:[{label:"Order Frequency",data:Object.values(n),backgroundColor:"rgba(153, 102, 255, 0.6)"}]};return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("h1",{children:"Completed Orders"}),(0,o.jsx)("button",{onClick:()=>{const t=d().unparse(e),a=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),r=URL.createObjectURL(a);s.href=r,s.setAttribute("download","completed_orders.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)},children:"Export to CSV"}),(0,o.jsxs)("div",{className:"chart-container",children:[(0,o.jsx)("h2",{children:"Table Usage"}),(0,o.jsx)(c.yP,{data:i})]}),(0,o.jsxs)("div",{className:"chart-container",children:[(0,o.jsx)("h2",{children:"Order Frequency"}),(0,o.jsx)(c.yP,{data:u})]}),(0,o.jsx)("div",{className:"orders-list",children:e.length>0?e.map((e=>(0,o.jsxs)("div",{className:"order",children:[(0,o.jsxs)("p",{children:["Table Number: ",e.tableNumber]}),(0,o.jsxs)("p",{children:["Name: ",e.name]}),(0,o.jsxs)("p",{children:["Order: ",e.order]}),(0,o.jsxs)("p",{children:["Status: ",e.status]})]},e.tableNumber))):(0,o.jsx)("p",{children:"No completed orders found"})})]})}}}]);
//# sourceMappingURL=887.44f80418.chunk.js.map